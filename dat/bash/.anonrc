#!/bin/bash
## .anonrc ::

## ADIR ::
export ADIR="$(cd "$(dirname "$BASH_SOURCE")" && pwd)"
export ADIR_REALPATH="$(realpath "$ADIR")"
export HOME_REALPATH="$(realpath "$HOME")"

apwd() {
    PWD_REALPATH="$(realpath "$PWD")"
    case "$PWD_REALPATH" in
        "$ADIR_REALPATH"*) printf '%s' "-${PWD_REALPATH#"$ADIR_REALPATH"}" ;;
        "$HOME_REALPATH"*) printf '%s' "-${PWD_REALPATH#"$HOME_REALPATH"}" ;;
        *) printf '%s' "$PWD" ;;
    esac
}

## utils ::
path_add() {
    case ":$PATH:" in
        *:"$1":*) ;;
        *) export PATH="$1${PATH:+:$PATH}" ;;
    esac
}

## path ::
path_add "$ADIR/bin"

## env ::
export PS1='\[\e[1;38;5;13m\]$(apwd)\[\e[38;5;10m\]\$\[\e[0m\] '

## aliases ::
cda() { cd "$ADIR"; }

## commands ::
reload() {
    source "$ADIR/.anonrc"
}

## source ::
[ -f "$UDIR/dat/bash/img-tools.bash" ] && . "$UDIR/dat/bash/img-tools.bash"

# vim:ft=bash
